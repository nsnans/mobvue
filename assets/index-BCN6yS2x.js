import{t as x,e as I,n as b,T as W,o as we,g as xe,p as oe,c as D,f as ae,h as V,i as Se,j as U,w as A,m as S,k as Ie,H as Oe,I as X,P as _e,l as ze,q as Pe,L as le,v as se,x as Be,y as Le,z as M,a as Te,A as Ee}from"./index-By4TLlyP.js";import{B as pe}from"./index-BA8Z3lDx.js";import{u as J,a as De,C as Ve}from"./index-DwdcQsK2.js";import{r as g,f as ie,P as ce,w as O,s as L,q as l,T as re,Q as ue,R as G,S as de,e as fe,k as q,l as Ae,F as $e,t as B,n as K,p as Re,o as Ne,M as je,j as Me,g as ve,U as Ue,B as Fe,A as T,I as N,u as Y,E as Ye,h as He,D as Ke,z as Xe,y as Ge}from"./vue-jg-N22bW.js";import{u as me}from"./use-expose-e9h6Y_ix.js";let qe=2e3;const Ze=()=>++qe,Qe={show:Boolean,zIndex:b,overlay:x,duration:b,teleport:[String,Object],lockScroll:x,lazyRender:x,beforeClose:Function,overlayStyle:Object,overlayClass:I,transitionAppear:Boolean,closeOnClickOverlay:x};function We(e,t){return e>t?"horizontal":t>e?"vertical":""}function Je(){const e=g(0),t=g(0),n=g(0),s=g(0),a=g(0),c=g(0),o=g(""),r=g(!0),y=()=>o.value==="vertical",f=()=>o.value==="horizontal",v=()=>{n.value=0,s.value=0,a.value=0,c.value=0,o.value="",r.value=!0};return{move:m=>{const k=m.touches[0];n.value=(k.clientX<0?0:k.clientX)-e.value,s.value=k.clientY-t.value,a.value=Math.abs(n.value),c.value=Math.abs(s.value);const C=10;(!o.value||a.value<C&&c.value<C)&&(o.value=We(a.value,c.value)),r.value&&(a.value>W||c.value>W)&&(r.value=!1)},start:m=>{v(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:v,startX:e,startY:t,deltaX:n,deltaY:s,offsetX:a,offsetY:c,direction:o,isVertical:y,isHorizontal:f,isTap:r}}let E=0;const ee="van-overflow-hidden";function et(e,t){const n=Je(),s="01",a="10",c=v=>{n.move(v);const u=n.deltaY.value>0?a:s,d=xe(v.target,e.value),{scrollHeight:m,offsetHeight:k,scrollTop:C}=d;let i="11";C===0?i=k>=m?"00":"01":C+k>=m&&(i="10"),i!=="11"&&n.isVertical()&&!(parseInt(i,2)&parseInt(u,2))&&oe(v,!0)},o=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",c,{passive:!1}),E||document.body.classList.add(ee),E++},r=()=>{E&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",c),E--,E||document.body.classList.remove(ee))},y=()=>t()&&o(),f=()=>t()&&r();we(y),ie(f),ce(f),O(t,v=>{v?o():r()})}function ye(e){const t=g(!1);return O(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[tt,nt]=D("overlay"),ot={show:Boolean,zIndex:b,duration:b,className:I,lockScroll:x,lazyRender:x,customStyle:Object,teleport:[String,Object]};var at=L({name:tt,props:ot,setup(e,{slots:t}){const n=g(),s=ye(()=>e.show||!e.lazyRender),a=o=>{e.lockScroll&&oe(o,!0)},c=s(()=>{var o;const r=V(Se(e.zIndex),e.customStyle);return U(e.duration)&&(r.animationDuration=`${e.duration}s`),G(l("div",{ref:n,style:r,class:[nt(),e.className]},[(o=t.default)==null?void 0:o.call(t)]),[[de,e.show]])});return ae("touchmove",a,{target:n}),()=>{const o=l(re,{name:"van-fade",appear:!0},{default:c});return e.teleport?l(ue,{to:e.teleport},{default:()=>[o]}):o}}});const lt=A(at),st=V({},Qe,{round:Boolean,position:S("center"),closeIcon:S("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:S("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[it,te]=D("popup");var ct=L({name:it,inheritAttrs:!1,props:st,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:s}){let a,c;const o=g(),r=g(),y=ye(()=>e.show||!e.lazyRender),f=fe(()=>{const h={zIndex:o.value};if(U(e.duration)){const w=e.position==="center"?"animationDuration":"transitionDuration";h[w]=`${e.duration}s`}return h}),v=()=>{a||(a=!0,o.value=e.zIndex!==void 0?+e.zIndex:Ze(),t("open"))},u=()=>{a&&Ie(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},d=h=>{t("clickOverlay",h),e.closeOnClickOverlay&&u()},m=()=>{if(e.overlay)return l(lt,B({show:e.show,class:e.overlayClass,zIndex:o.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},J(),{onClick:d}),{default:s["overlay-content"]})},k=h=>{t("clickCloseIcon",h),u()},C=()=>{if(e.closeable)return l(X,{role:"button",tabindex:0,name:e.closeIcon,class:[te("close-icon",e.closeIconPosition),Oe],classPrefix:e.iconPrefix,onClick:k},null)};let i;const _=()=>{i&&clearTimeout(i),i=setTimeout(()=>{t("opened")})},$=()=>t("closed"),ge=h=>t("keydown",h),ke=y(()=>{var h;const{destroyOnClose:w,round:F,position:R,safeAreaInsetTop:Ce,safeAreaInsetBottom:be,show:Q}=e;if(!(!Q&&w))return G(l("div",B({ref:r,style:f.value,role:"dialog",tabindex:0,class:[te({round:F,[R]:R}),{"van-safe-area-top":Ce,"van-safe-area-bottom":be}],onKeydown:ge},n,J()),[(h=s.default)==null?void 0:h.call(s),C()]),[[de,Q]])}),Z=()=>{const{position:h,transition:w,transitionAppear:F}=e,R=h==="center"?"van-fade":`van-popup-slide-${h}`;return l(re,{name:w||R,appear:F,onAfterEnter:_,onAfterLeave:$},{default:ke})};return O(()=>e.show,h=>{h&&!a&&(v(),n.tabindex===0&&K(()=>{var w;(w=r.value)==null||w.focus()})),!h&&a&&(a=!1,t("close"))}),me({popupRef:r}),et(r,()=>e.show&&e.lockScroll),ae("popstate",()=>{e.closeOnPopstate&&(u(),c=!1)}),q(()=>{e.show&&v()}),Ae(()=>{c&&(t("update:show",!0),c=!1)}),ie(()=>{e.show&&e.teleport&&(u(),c=!0)}),Re(_e,()=>e.show),()=>e.teleport?l(ue,{to:e.teleport},{default:()=>[m(),Z()]}):l($e,null,[m(),Z()])}});const rt=A(ct);let p=0;function ut(e){e?(p||document.body.classList.add("van-toast--unclickable"),p++):p&&(p--,p||document.body.classList.remove("van-toast--unclickable"))}const[dt,z]=D("toast"),ft=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],vt={icon:String,show:Boolean,type:S("text"),overlay:Boolean,message:b,iconSize:b,duration:ze(2e3),position:S("middle"),teleport:[String,Object],wordBreak:String,className:I,iconPrefix:String,transition:S("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:I,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:b};var he=L({name:dt,props:vt,emits:["update:show"],setup(e,{emit:t,slots:n}){let s,a=!1;const c=()=>{const u=e.show&&e.forbidClick;a!==u&&(a=u,ut(a))},o=u=>t("update:show",u),r=()=>{e.closeOnClick&&o(!1)},y=()=>clearTimeout(s),f=()=>{const{icon:u,type:d,iconSize:m,iconPrefix:k,loadingType:C}=e;if(u||d==="success"||d==="fail")return l(X,{name:u||d,size:m,class:z("icon"),classPrefix:k},null);if(d==="loading")return l(le,{class:z("loading"),size:m,type:C},null)},v=()=>{const{type:u,message:d}=e;if(n.message)return l("div",{class:z("text")},[n.message()]);if(U(d)&&d!=="")return u==="html"?l("div",{key:0,class:z("text"),innerHTML:String(d)},null):l("div",{class:z("text")},[d])};return O(()=>[e.show,e.forbidClick],c),O(()=>[e.show,e.type,e.message,e.duration],()=>{y(),e.show&&e.duration>0&&(s=setTimeout(()=>{o(!1)},e.duration))}),q(c),Ne(c),()=>l(rt,B({class:[z([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:y,"onUpdate:show":o},Pe(e,ft)),{default:()=>[f(),v()]})}});function mt(){const e=Me({show:!1}),t=a=>{e.show=a},n=a=>{V(e,a,{transitionAppear:!0}),t(!0)},s=()=>t(!1);return me({open:n,close:s,toggle:t}),{open:n,close:s,state:e,toggle:t}}function yt(e){const t=je(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const ht={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let j=[],gt=!1,ne=V({},ht);const kt=new Map;function Ct(e){return Be(e)?e:{message:e}}function bt(){const{instance:e}=yt({setup(){const t=g(""),{open:n,state:s,close:a,toggle:c}=mt(),o=()=>{},r=()=>l(he,B(s,{onClosed:o,"onUpdate:show":c}),null);return O(t,y=>{s.message=y}),ve().render=r,{open:n,close:a,message:t}}});return e}function wt(){if(!j.length||gt){const e=bt();j.push(e)}return j[j.length-1]}function xt(e={}){if(!se)return{};const t=wt(),n=Ct(e);return t.open(V({},ne,kt.get(n.type||ne.type),n)),t}A(he);const[St,H]=D("switch"),It={size:b,loading:Boolean,disabled:Boolean,modelValue:I,activeColor:String,inactiveColor:String,activeValue:{type:I,default:!0},inactiveValue:{type:I,default:!1}};var Ot=L({name:St,props:It,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const s=()=>e.modelValue===e.activeValue,a=()=>{if(!e.disabled&&!e.loading){const o=s()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},c=()=>{if(e.loading){const o=s()?e.activeColor:e.inactiveColor;return l(le,{class:H("loading"),color:o},null)}if(n.node)return n.node()};return Le(()=>e.modelValue),()=>{var o;const{size:r,loading:y,disabled:f,activeColor:v,inactiveColor:u}=e,d=s(),m={fontSize:M(r),backgroundColor:d?v:u};return l("div",{role:"switch",class:H({on:d,loading:y,disabled:f}),style:m,tabindex:f?void 0:0,"aria-checked":d,onClick:a},[l("div",{class:H("node")},[c()]),(o=n.background)==null?void 0:o.call(n)])}}});const _t=A(Ot),[zt,P]=D("image"),Pt={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:b,height:b,radius:b,lazyLoad:Boolean,iconSize:b,showError:x,errorIcon:S("photo-fail"),iconPrefix:String,showLoading:x,loadingIcon:S("photo"),crossorigin:String,referrerpolicy:String};var Bt=L({name:zt,props:Pt,emits:["load","error"],setup(e,{emit:t,slots:n}){const s=g(!1),a=g(!0),c=g(),{$Lazyload:o}=ve().proxy,r=fe(()=>{const i={width:M(e.width),height:M(e.height)};return U(e.radius)&&(i.overflow="hidden",i.borderRadius=M(e.radius)),i});O(()=>e.src,()=>{s.value=!1,a.value=!0});const y=i=>{a.value&&(a.value=!1,t("load",i))},f=()=>{const i=new Event("load");Object.defineProperty(i,"target",{value:c.value,enumerable:!0}),y(i)},v=i=>{s.value=!0,a.value=!1,t("error",i)},u=(i,_,$)=>$?$():l(X,{name:i,size:e.iconSize,class:_,classPrefix:e.iconPrefix},null),d=()=>{if(a.value&&e.showLoading)return l("div",{class:P("loading")},[u(e.loadingIcon,P("loading-icon"),n.loading)]);if(s.value&&e.showError)return l("div",{class:P("error")},[u(e.errorIcon,P("error-icon"),n.error)])},m=()=>{if(s.value||!e.src)return;const i={alt:e.alt,class:P("img"),style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?G(l("img",B({ref:c},i),null),[[Ue("lazy"),e.src]]):l("img",B({ref:c,src:e.src,onLoad:y,onError:v},i),null)},k=({el:i})=>{const _=()=>{i===c.value&&a.value&&f()};c.value?_():K(_)},C=({el:i})=>{i===c.value&&!s.value&&v()};return o&&se&&(o.$on("loaded",k),o.$on("error",C),ce(()=>{o.$off("loaded",k),o.$off("error",C)})),q(()=>{K(()=>{var i;(i=c.value)!=null&&i.complete&&!e.lazyLoad&&f()})}),()=>{var i;return l("div",{class:P({round:e.round,block:e.block}),style:r.value},[m(),d(),(i=n.default)==null?void 0:i.call(n)])}}});const Lt=A(Bt),Tt="/mobvue/favicon.png",Et={"un-py-16px":""},pt={"un-flex-y-center":"","un-gap-16px":""},Dt={"un-flex":"","un-flex-col":""},Vt={"un-fw-600":""},Mt=L({__name:"index",setup(e){const t=Xe(),n=Te(),{isDark:s}=Ee();function a(){xt("更多功能，敬请期待 ~")}function c(){n.resetToken(),t.push("/login")}return(o,r)=>{const y=Lt,f=De,v=Ve,u=_t,d=pe;return Ge(),Fe("div",Et,[l(v,{"un-mb-8px":""},{default:T(()=>[l(f,{size:"large","is-link":"",center:"",onClick:a},{title:T(()=>[N("div",pt,[l(y,{src:Y(Tt),"un-w-44px":"","un-h-44px":""},null,8,["src"]),N("div",Dt,[N("span",Vt,Ye(Y(n).username),1),r[1]||(r[1]=N("span",{"un-text-14px":"","un-color-hex-969799":""},"个人资料",-1))])])]),_:1})]),_:1}),l(v,{"un-mb-8px":""},{default:T(()=>[l(f,{title:"🌗 黑暗模式",center:""},{"right-icon":T(()=>[l(u,{modelValue:Y(s),"onUpdate:modelValue":r[0]||(r[0]=m=>He(s)?s.value=m:null),size:"min(5.333vw, 40px)"},null,8,["modelValue"])]),_:1}),l(f,{title:"📚 中文文档","is-link":"",url:"https://juejin.cn/column/7472609448201666599"}),l(f,{title:"📦️ 代码仓库","is-link":"",url:"https://github.com/un-pany/mobvue"}),l(f,{title:"☕ Donate 捐赠","is-link":"",url:"https://github.com/un-pany/mobvue/issues/1"}),l(f,{title:"💰 付费服务","is-link":"",url:"https://github.com/un-pany/mobvue/issues/2"})]),_:1}),l(d,{block:"",onClick:c,"un-b-0px":"","un-rounded-0px":""},{default:T(()=>r[2]||(r[2]=[Ke(" 退出登录 ")])),_:1})])}}});export{Mt as default};
