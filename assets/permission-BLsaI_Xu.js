import{Z as A,a as C}from"./index-B-bltZRc.js";import{R as h,a as E}from"./index-DQvPM6mZ.js";import{C as V,a as x}from"./index-DWCsvot4.js";import{_ as y}from"./NoticeBar.vue_vue_type_script_setup_true_lang-B4yLrR_8.js";import{s as B,r as U,y as $,q as e,E as i,i as w,u as m,z as d,R as p,C as f,J as v,U as D}from"./vue-D1P3Ll_e.js";import"./use-expose-ImGiKyGL.js";function k(r){if(A(r)&&r.length>0){const{roles:a}=C();return a.some(t=>r.includes(t))}else return console.error("参数必须是一个数组且长度大于 0，参考：checkPermission(['admin', 'editor'])"),!1}const J=B({__name:"permission",setup(r){const a=C(),t=U(a.roles[0]);function R(u){a.changeRoles(u)}return(u,o)=>{const c=E,n=x,l=V,g=h,_=D("permission");return d(),$("div",null,[e(y,{text:"基于权限指令、权限函数实现的按钮级控制"}),e(g,{modelValue:m(t),"onUpdate:modelValue":o[2]||(o[2]=s=>w(t)?t.value=s:null),onChange:R},{default:i(()=>[e(l,{title:"切换用户",inset:""},{default:i(()=>[e(n,{title:"Admin 用户",onClick:o[0]||(o[0]=s=>t.value="admin")},{"right-icon":i(()=>[e(c,{name:"admin"})]),_:1}),e(n,{title:"Editor 用户",onClick:o[1]||(o[1]=s=>t.value="editor")},{"right-icon":i(()=>[e(c,{name:"editor"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l,{title:"权限指令",inset:""},{default:i(()=>[p(e(n,{title:"Admin 可见",value:"Role admin"},null,512),[[_,["admin"]]]),p(e(n,{title:"Admin 或 Editor 可见",value:"Role admin or editor"},null,512),[[_,["admin","editor"]]])]),_:1}),e(l,{title:"权限函数",inset:""},{default:i(()=>[m(k)(["admin"])?(d(),f(n,{key:0,title:"Admin 可见",value:"Role admin"})):v("",!0),m(k)(["admin","editor"])?(d(),f(n,{key:1,title:"Admin 或 Editor 可见",value:"Role admin or editor"})):v("",!0)]),_:1})])}}});export{J as default};
